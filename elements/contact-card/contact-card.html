<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../favorite-behaviour/favorite-behaviour.html">

<dom-module id="contact-card">
  <template>

     <style>
      :host {
        width: 400px;
         --paper-card-header-color : white;
      }
      :host.removed .cards{
        transform: scale(0) !important;
        transition: transform 0.5s ease;
       
      }
      :host([favorite]) .cards{
        background: orange;
        transform: scale(1);
        transition: all 1s ease;
      }
      :host([favorite]) iron-icon {
        display: block;
      }
     iron-icon {
      display: none;
      left: 0;
      position: absolute;
      top: 0;
      fill: orange;
     }

     .user-name {
      position: absolute;
      bottom: 3px;
      color: white;
      right: 3px;
      font-weight: bold;
      text-transform: uppercase;
      text-shadow: 1px 1px 3px #585858;
     }

     .user-mail {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      width: 125px;
     }
    
     .cards {
      float: left;
      width: 250px;
      : 250px;

      margin: 1%;
      transform: scale(0.95);

     }
      .card-content {
        display: flex;
        text-align: center;
        padding: 0;
        overflow: hidden;
      }

      .card-actions {
        padding:0;
      }

      .icon-check {
        color: green;
      }
      .icon-clear {
        color: red;
        float: right;
      }
      .card-content p {
        margin: 0;
      }

      img {
        width: 100%;
        height: 100%;
      }

      paper-button {
        width: 15%;
      }
    </style>
    <paper-card class="cards" elevation="1" animated-shadow="true">

      
        <div class="card-content">
          <img src="{{user.picture.large}}">
          <template is="dom-if" if="{{user.favorite}}">
            <iron-icon icon="star"></iron-icon>
          </template>
          <p class="user-name">{{user.name.first}}</p>
        </div>   
      
      <div class="card-actions">
        <paper-icon-button on-tap="markAsFavorite" id="icon-check" icon="check"></paper-icon-button>
        <paper-icon-button id="icon-clear" icon="remove" on-tap="removeContact"></paper-icon-button>  
      </div>
    </paper-card>
  </template>
  <script>
    Polymer({
      is: 'contact-card',
     behaviors: [Polymer.FavoriteBehaviour],  
      properties: {
        user:{
          type:Object
        }
       
      },
       ready:function(){
          console.log(this.user.favorite);
      },
      removeContact: function(){
        this.fire("_removeCard",{user:this.user});
      }
        
    });
      
  </script>
</dom-module>
